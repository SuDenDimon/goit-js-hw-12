{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImage(inputValue, currentPage) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = new URLSearchParams({\n      key: \"22926721-5d20aa08498ffd1ff2f906542\",\n      q: inputValue,\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      safesearch: true,\n      per_page: 15,\n      page: currentPage,\n    });\n\nconst url = `${BASE_URL}${END_POINT}?${params}`;\n\nreturn await axios.get(url)\n.then(responce => {\n    \nreturn responce.data;\n\n}).catch(error => {\n    console.log(error);\n});\n}","export function createImagesCard(images) {\n  return images\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n      return `\n    <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    width=\"1280\"\n                    heigh=\"152\"\n                    src=\"${webformatURL}\"\n                    data-source=\"${largeImageURL}\"\n                    alt=\"${tags}\"\n                />\n                <ul class=\"gallery-description\">\n                  <li><h3>likes:</h3><P>${likes}</p></li>\n                  <li><h3>views:</h3><P>${views}</p></li>\n                  <li><h3>comments:</h3><P>${comments}</p></li>\n                  <li><h3>downloads:</h3><P>${downloads}</p></li>\n              </ul>\n            </a>\n        </li>`;\n    })\n    .join(\"\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImage } from './js/pixabay-api';\nimport { createImagesCard } from './js/render-functions';\n\nconst refs = {\n    form: document.querySelector(\".form\"),\n    gallery: document.querySelector(\".gallery\"),\n    loader: document.querySelector('.loader'),\n}\n\nfunction hideLoader() {\n    refs.loader.classList.add(\"hidden\");\n}\nfunction showLoader() {\n    refs.loader.classList.remove(\"hidden\");\n}\n\nconst galleryCfg = {\n    captionsData: 'alt',\n  };\n  let lightbox = new SimpleLightbox('.gallery a', galleryCfg);\n    hideLoader();\n\nrefs.form.addEventListener(\"submit\", onFormSubmit);\n\nasync function onFormSubmit(e) {\n    e.preventDefault();\n    refs.gallery.innerHTML = \"\";\n\n    const form = e.currentTarget;\n    const inputValue = form.elements.searchInput.value;\n\n    if (inputValue === \"\") {\n        return;\n    }\n        showLoader();\n\n        \n    //Остановился здесь\n\n\n\n    getImage(inputValue).then(data => { \n\n        const markUp = createImagesCard(data.hits);\n        refs.gallery.insertAdjacentHTML(\"beforeend\", markUp);\n\n        lightbox.refresh();\n\n        if (data.hits.length === 0) {\n            iziToast.show({\n                maxWidth: '432px',\n                height: '48px',\n                color: 'red',\n                position: 'topRight',\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n            });\n        }\n    }).catch(error => {\n        iziToast.show({\n                maxWidth: '432px',\n                height: '48px',\n                color: 'red',\n                position: 'topRight',\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n    }); \n}).finally(() => {   \n    hideLoader();    \n    refs.form.reset();\n  });\n}\n"],"names":["getImage","inputValue","currentPage","BASE_URL","END_POINT","params","url","axios","responce","error","createImagesCard","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","hideLoader","showLoader","galleryCfg","lightbox","SimpleLightbox","onFormSubmit","e","data","markUp","iziToast"],"mappings":"owBAEO,eAAeA,EAASC,EAAYC,EAAa,CACpD,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMC,CACZ,CAAK,EAECI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAME,EAAM,IAAID,CAAG,EACzB,KAAKE,GAECA,EAAS,IAEf,EAAE,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACrB,CAAC,CACD,CCzBO,SAASC,EAAiBC,EAAQ,CACvC,OAAOA,EACJ,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACnE;AAAA;AAAA,4CAE+BL,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,2BAK9BD,CAAY;AAAA,mCACJC,CAAa;AAAA,2BACrBC,CAAI;AAAA;AAAA;AAAA,0CAGWC,CAAK;AAAA,0CACLC,CAAK;AAAA,6CACFC,CAAQ;AAAA,8CACPC,CAAS;AAAA;AAAA;AAAA,cAIlD,EACA,KAAK,EAAE,CACZ,CCfA,MAAMC,EAAO,CACT,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEA,SAASC,GAAa,CAClBD,EAAK,OAAO,UAAU,IAAI,QAAQ,CACtC,CACA,SAASE,GAAa,CAClBF,EAAK,OAAO,UAAU,OAAO,QAAQ,CACzC,CAEA,MAAMG,EAAa,CACf,aAAc,KAClB,EACE,IAAIC,EAAW,IAAIC,EAAe,aAAcF,CAAU,EACxDF,IAEJD,EAAK,KAAK,iBAAiB,SAAUM,CAAY,EAEjD,eAAeA,EAAaC,EAAG,CAC3BA,EAAE,eAAc,EAChBP,EAAK,QAAQ,UAAY,GAGzB,MAAMlB,EADOyB,EAAE,cACS,SAAS,YAAY,MAEzCzB,IAAe,KAGfoB,IAOJrB,EAASC,CAAU,EAAE,KAAK0B,GAAQ,CAE9B,MAAMC,EAASlB,EAAiBiB,EAAK,IAAI,EACzCR,EAAK,QAAQ,mBAAmB,YAAaS,CAAM,EAEnDL,EAAS,QAAO,EAEZI,EAAK,KAAK,SAAW,GACrBE,EAAS,KAAK,CACV,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QAAS,0EACzB,CAAa,CAEb,CAAK,EAAE,MAAMpB,GAAS,CACdoB,EAAS,KAAK,CACN,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QAAS,0EACzB,CAAK,CACL,CAAC,EAAE,QAAQ,IAAM,CACbT,IACAD,EAAK,KAAK,OACd,CAAG,EACH"}